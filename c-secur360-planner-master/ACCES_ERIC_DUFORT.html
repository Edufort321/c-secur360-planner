<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acc√®s Eric Dufort - C-Secur360</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #1f2937; color: white; }
        .container { max-width: 700px; margin: 0 auto; background: white; color: #1f2937; padding: 30px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .button { background: #1f2937; color: white; padding: 15px 30px; border: none; border-radius: 6px; cursor: pointer; font-size: 18px; margin: 10px; font-weight: bold; }
        .button:hover { background: #374151; }
        .success { background: #10b981; color: white; padding: 15px; border-radius: 6px; margin: 15px 0; font-weight: bold; }
        .info { background: #3b82f6; color: white; padding: 15px; border-radius: 6px; margin: 15px 0; }
        .credentials { background: #f3f4f6; border: 3px solid #1f2937; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .logo { text-align: center; font-size: 28px; font-weight: bold; color: #1f2937; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">üîê C-SECUR360 - ACC√àS PROPRI√âTAIRE</div>

        <div class="credentials">
            <h3>üë§ VOS IDENTIFIANTS DE CONNEXION</h3>
            <p><strong>Nom d'utilisateur:</strong> <code style="background: #1f2937; color: white; padding: 5px 10px; border-radius: 4px; font-size: 16px;">Eric Dufort</code></p>
            <p><strong>Mot de passe:</strong> <code style="background: #1f2937; color: white; padding: 5px 10px; border-radius: 4px; font-size: 16px;">321Eduf!$</code></p>
            <p><strong>Statut:</strong> Pr√©sident-Directeur G√©n√©ral - Acc√®s Complet</p>
        </div>

        <div class="info">
            <strong>üéØ MISSION:</strong> Forcer l'acc√®s √† votre application C-Secur360 avec votre profil personnalis√©
        </div>

        <h3>üöÄ ACTIVATION DE VOTRE ACC√àS</h3>
        <button class="button" onclick="activerEricDufort()" style="width: 100%; font-size: 20px;">
            üîì ACTIVER ACC√àS ERIC DUFORT
        </button>

        <div id="resultat"></div>

        <div class="info" style="margin-top: 20px;">
            <strong>üîÑ APR√àS ACTIVATION:</strong><br>
            1. Retournez sur <strong>http://localhost:3009</strong><br>
            2. Rechargez la page (Ctrl+F5)<br>
            3. Connectez-vous avec vos identifiants ci-dessus
        </div>

        <h3>üõ†Ô∏è OPTIONS DE D√âPANNAGE</h3>
        <button class="button" onclick="diagnosticComplet()">üîç Diagnostic</button>
        <button class="button" onclick="voirDonnees()">üëÅÔ∏è Voir Donn√©es</button>
        <button class="button" onclick="resetTotal()">‚ö†Ô∏è Reset Total</button>

        <div id="debug"></div>
    </div>

    <script>
        function activerEricDufort() {
            // Supprimer compl√®tement les anciennes donn√©es
            localStorage.removeItem('planificateur-data-v4');

            // Cr√©er les donn√©es avec Eric Dufort
            const donneesEricDufort = {
                jobs: [],
                personnel: [
                    {
                        id: 'eric-dufort-001',
                        nom: 'Eric Dufort',
                        prenom: 'Eric',
                        nomComplet: 'Eric Dufort',
                        poste: 'Pr√©sident-Directeur G√©n√©ral',
                        email: 'eric.dufort@c-secur360.com',
                        telephone: '',
                        succursale: 'C-Secur360 - Si√®ge Social',
                        password: '321Eduf!$',
                        role: 'coordonnateur',
                        permissions: {
                            admin: true,
                            coordonnateur: true,
                            gestionPersonnel: true,
                            gestionEquipement: true,
                            gestionJobs: true,
                            gestionSuccursales: true,
                            export: true,
                            import: true,
                            configuration: true
                        },
                        disponible: true,
                        visibleChantier: true,
                        couleur: '#1f2937',
                        dateCreation: new Date().toISOString(),
                        estProprietaire: true
                    },
                    {
                        id: 'admin-backup-001',
                        nom: 'Administrateur',
                        poste: 'Administrateur Syst√®me',
                        email: 'admin@c-secur360.com',
                        telephone: '',
                        succursale: 'Administration',
                        password: 'MdlAdm321!$',
                        role: 'coordonnateur',
                        disponible: true,
                        visibleChantier: false,
                        couleur: '#dc2626',
                        dateCreation: new Date().toISOString()
                    }
                ],
                equipements: [],
                sousTraitants: [],
                conges: [],
                selectedView: 'month',
                selectedDate: new Date().toISOString(),
                lastSaved: new Date().toISOString()
            };

            localStorage.setItem('planificateur-data-v4', JSON.stringify(donneesEricDufort));

            document.getElementById('resultat').innerHTML = `
                <div class="success">
                    ‚úÖ ACTIVATION R√âUSSIE !<br><br>
                    üéØ Votre profil Eric Dufort est maintenant actif<br>
                    üîê Acc√®s complet configur√©<br>
                    üöÄ Retournez sur <strong><a href="http://localhost:3009" target="_blank">http://localhost:3009</a></strong>
                </div>`;
        }

        function diagnosticComplet() {
            const data = localStorage.getItem('planificateur-data-v4');
            let result = '<h4>üîç Diagnostic Complet:</h4>';

            if (!data) {
                result += '<p style="color: red;">‚ùå Aucune donn√©e localStorage</p>';
            } else {
                try {
                    const parsed = JSON.parse(data);
                    result += '<p style="color: green;">‚úÖ localStorage trouv√©</p>';
                    result += '<p><strong>Personnel:</strong> ' + (parsed.personnel ? parsed.personnel.length : 0) + '</p>';

                    if (parsed.personnel) {
                        const eric = parsed.personnel.find(p => p.nom === 'Eric Dufort');
                        if (eric) {
                            result += '<p style="color: green;">‚úÖ Eric Dufort trouv√©</p>';
                            result += '<p><strong>Mot de passe:</strong> ' + eric.password + '</p>';
                            result += '<p><strong>R√¥le:</strong> ' + eric.role + '</p>';
                        } else {
                            result += '<p style="color: red;">‚ùå Eric Dufort NOT trouv√©</p>';
                        }

                        const admin = parsed.personnel.find(p => p.nom === 'Administrateur');
                        if (admin) {
                            result += '<p style="color: green;">‚úÖ Admin backup trouv√©</p>';
                        }
                    }
                } catch (e) {
                    result += '<p style="color: red;">‚ùå Erreur: ' + e.message + '</p>';
                }
            }

            document.getElementById('debug').innerHTML = result;
        }

        function voirDonnees() {
            const data = localStorage.getItem('planificateur-data-v4');
            if (data) {
                const parsed = JSON.parse(data);
                document.getElementById('debug').innerHTML =
                    '<h4>üìä Donn√©es Actuelles:</h4><pre style="background: #f3f4f6; padding: 15px; border-radius: 4px; max-height: 300px; overflow-y: auto;">' +
                    JSON.stringify(parsed, null, 2) + '</pre>';
            } else {
                document.getElementById('debug').innerHTML = '<p style="color: red;">Aucune donn√©e</p>';
            }
        }

        function resetTotal() {
            localStorage.clear();
            document.getElementById('debug').innerHTML = '<div class="success">üóëÔ∏è Reset total effectu√©. Cliquez "Activer Eric Dufort"</div>';
        }

        // Auto-diagnostic au chargement
        window.onload = function() {
            diagnosticComplet();
        }
    </script>
</body>
</html>